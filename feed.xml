<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://longlovemyu.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://longlovemyu.com/" rel="alternate" type="text/html" /><updated>2025-10-05T10:47:59+00:00</updated><id>https://longlovemyu.com/feed.xml</id><title type="html">LONGLOVEMYU</title><subtitle>Sharing and recoding something useful, trying to make things simple, and looking for some fun.</subtitle><author><name>LONGAVAILABLE</name><email>liuxiaolong125@gmail.com</email></author><entry><title type="html">Academic journals on water and environment</title><link href="https://longlovemyu.com/journal-list/" rel="alternate" type="text/html" title="Academic journals on water and environment" /><published>2025-09-18T10:55:00+00:00</published><updated>2025-09-18T10:55:00+00:00</updated><id>https://longlovemyu.com/academic-journals-on-water-and-environment</id><content type="html" xml:base="https://longlovemyu.com/journal-list/"><![CDATA[<p>It posted a list of academic journals on water and environment with LetPub links.
<!--the above is the excerpt-->
<!--more-->
<!--the following is the text--></p>

<h1 id="journal-search-engine">Journal search engine</h1>

<p><a href="https://www.doaj.org/">DOAJ</a></p>

<p><a href="https://www.scimagojr.com/">SJR</a></p>

<h1 id="sci-journals">SCI journals</h1>

<table>
  <thead>
    <tr>
      <th>ISSN</th>
      <th style="text-align: left">Name</th>
      <th>JCR分区</th>
      <th>中科院分区</th>
      <th>IF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0169-2046</td>
      <td style="text-align: left">[Landscape and Urban Planning](https://www.letpub.com.cn/index.php?journalid=5535&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>5.441</td>
    </tr>
    <tr>
      <td>1009-637X</td>
      <td style="text-align: left">[Journal of Geographical Sciences](https://www.letpub.com.cn/index.php?journalid=4587&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>3区</td>
      <td>2.851</td>
    </tr>
    <tr>
      <td>0920-4741</td>
      <td style="text-align: left">[Water Resources Management](https://www.letpub.com.cn/index.php?journalid=8080&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>2.924</td>
    </tr>
    <tr>
      <td>1027-5606</td>
      <td style="text-align: left">[Hydrology and Earth System Sciences](https://www.letpub.com.cn/index.php?journalid=3291&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>1区</td>
      <td>5.153</td>
    </tr>
    <tr>
      <td>1462-9011</td>
      <td style="text-align: left">[Environmental Science and Policy](https://www.letpub.com.cn/index.php?journalid=2565&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>4.767</td>
    </tr>
    <tr>
      <td>1753-318X</td>
      <td style="text-align: left">[Journal of Flood Risk Management](https://www.letpub.com.cn/index.php?journalid=8283&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>3区</td>
      <td>3.066</td>
    </tr>
    <tr>
      <td>0885-6087</td>
      <td style="text-align: left">[Hydrological Processes](https://www.letpub.com.cn/index.php?journalid=3288&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>3.256</td>
    </tr>
    <tr>
      <td>0899-8418</td>
      <td style="text-align: left">[International Journal of Climatology](https://www.letpub.com.cn/index.php?journalid=3688&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>3区</td>
      <td>3.928</td>
    </tr>
    <tr>
      <td>1558-8424</td>
      <td style="text-align: left">[Journal of Applied Meteorology and Climatology](https://www.letpub.com.cn/index.php?journalid=4149&amp;page=journalapp&amp;view=detail)</td>
      <td>Q2</td>
      <td>3区</td>
      <td>2.506</td>
    </tr>
    <tr>
      <td>1525-755X</td>
      <td style="text-align: left">[Journal of Hydrometeorology](https://www.letpub.com.cn/index.php?journalid=4651&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>3.891</td>
    </tr>
    <tr>
      <td>2169-897X</td>
      <td style="text-align: left">[Journal of Geophysical Research: Atmospheres](https://www.letpub.com.cn/index.php?journalid=10218&amp;page=journalapp&amp;view=detail)</td>
      <td>Q2</td>
      <td>2区</td>
      <td>3.821</td>
    </tr>
    <tr>
      <td>0169-8095</td>
      <td style="text-align: left">[Atmospheric Research](https://www.letpub.com.cn/index.php?journalid=955&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>4.676</td>
    </tr>
    <tr>
      <td>2212-0955</td>
      <td style="text-align: left">[Urban Climate](https://www.letpub.com.cn/index.php?journalid=10939&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td> </td>
      <td>3.834</td>
    </tr>
    <tr>
      <td>1087-3562</td>
      <td style="text-align: left">[Earth Interactions](https://www.letpub.com.cn/index.php?journalid=2387&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>3区</td>
      <td>2.167</td>
    </tr>
    <tr>
      <td>0094-8276</td>
      <td style="text-align: left">[Geophysical Research Letters](https://www.letpub.com.cn/index.php?journalid=3078&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>1区</td>
      <td>4.497</td>
    </tr>
    <tr>
      <td>0262-6667</td>
      <td style="text-align: left">[Hydrological Sciences Journal](https://www.letpub.com.cn/index.php?journalid=3289&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>4区</td>
      <td>2.186</td>
    </tr>
    <tr>
      <td>0273-1177</td>
      <td style="text-align: left">[Advances in Space Research](https://www.letpub.com.cn/index.php?journalid=282&amp;page=journalapp&amp;view=detail)</td>
      <td>Q2</td>
      <td>4区</td>
      <td>2.177</td>
    </tr>
    <tr>
      <td>2072-4292</td>
      <td style="text-align: left">[Remote Sensing](https://www.letpub.com.cn/index.php?journalid=8969&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>4.509</td>
    </tr>
    <tr>
      <td>1548-1603</td>
      <td style="text-align: left">[GIScience &amp; Remote Sensing](https://www.letpub.com.cn/index.php?journalid=3102&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>1区</td>
      <td>5.965</td>
    </tr>
    <tr>
      <td>0034-4257</td>
      <td style="text-align: left">[Remote Sensing Of Environment](https://www.letpub.com.cn/index.php?journalid=7128&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>1区</td>
      <td>9.763</td>
    </tr>
    <tr>
      <td>0013-9351</td>
      <td style="text-align: left">[Environmental Research](https://www.letpub.com.cn/index.php?journalid=2562&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>5.715</td>
    </tr>
    <tr>
      <td>1364-8152</td>
      <td style="text-align: left">[Environmental Modelling &amp; Software](https://www.letpub.com.cn/index.php?journalid=2558&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>2区</td>
      <td>4.807</td>
    </tr>
  </tbody>
</table>

<h1 id="ssci-journals">SSCI journals</h1>

<table>
  <thead>
    <tr>
      <th>ISSN</th>
      <th style="text-align: left">Name</th>
      <th>JCR分区</th>
      <th>IF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0143-6228</td>
      <td style="text-align: left">[Applied Geography](https://www.sciencedirect.com/journal/applied-geography)</td>
      <td>Q1</td>
      <td>3.508</td>
    </tr>
    <tr>
      <td>2469-4452</td>
      <td style="text-align: left">[Annals of the American Association of Geographers](https://www.tandfonline.com/loi/raag21)</td>
      <td>Q1</td>
      <td>3.302</td>
    </tr>
    <tr>
      <td>0198-9715</td>
      <td style="text-align: left">[Computers, Environment and Urban Systems](https://www.journals.elsevier.com/computers-environment-and-urban-systems/)</td>
      <td>Q1</td>
      <td>4.655</td>
    </tr>
    <tr>
      <td>2399-8083</td>
      <td style="text-align: left">[Environment and Planning B-Urban Analytics and City Science](https://www.letpub.com.cn/index.php?journalid=11654&amp;page=journalapp&amp;view=detail)</td>
      <td>Q1</td>
      <td>3.8</td>
    </tr>
  </tbody>
</table>

<h1 id="references">References</h1>

<ul>
  <li><a href="https://www.letpub.com.cn/index.php?page=journalapp">LetPub</a></li>
  <li><a href="https://www.scijournal.org/">SCI Journal</a></li>
  <li><a href="https://mjl.clarivate.com/home">Web of Science Master Journal List</a></li>
</ul>

<!--letpub links-->

<!--journal websites-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="journal" /><category term="LetPub" /><category term="water" /><category term="water resources" /><category term="environment" /><summary type="html"><![CDATA[It posted a list of academic journals on water and environment with LetPub links.]]></summary></entry><entry><title type="html">利用Cloudflare Tunnel实现远程桌面访问</title><link href="https://longlovemyu.com/remote-desktop-connection-using-cloudfare-tunnel" rel="alternate" type="text/html" title="利用Cloudflare Tunnel实现远程桌面访问" /><published>2025-08-18T02:40:00+00:00</published><updated>2025-08-18T02:40:00+00:00</updated><id>https://longlovemyu.com/practise-remote-desktop-connection-cloudflare</id><content type="html" xml:base="https://longlovemyu.com/remote-desktop-connection-using-cloudfare-tunnel"><![CDATA[<p>如题，本文主要介绍利用Cloudflare Tunnel来实现Windows远程桌面访问。</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<h2 id="创建一个cloudflare-tunnel">创建一个Cloudflare tunnel</h2>

<ol>
  <li>
    <p>登录<a href="https://one.dash.cloudflare.com/">Cloudflare Zero Trust</a></p>
  </li>
  <li>
    <p>左侧导航栏依次进入Networks→Tunnel</p>
  </li>
  <li>
    <p>创建一个隧道（Create a Tunnel）</p>
  </li>
  <li>
    <p>选择Cloudflared类型</p>

    <p><img src="/assets/pics/cloudflare-tunnel-type.png" alt="Cloudflared类型" /></p>
  </li>
  <li>
    <p>设置隧道名称（简洁、好记），并保存隧道</p>
  </li>
</ol>

<p>之后，网页自动进入配置页面（configure），不要关掉浏览器</p>

<h2 id="配置被访问主机服务器端">配置被访问主机/服务器端</h2>

<p>在隧道配置页面选择远程被访问主机/服务器端的运行系统、处理器架构（以window、64-bit为例）。</p>

<ol>
  <li>
    <p>在远程被访问主机/服务器端下载安装Cloudflared</p>

    <p>两种方法：</p>

    <ul>
      <li>在<a href="https://github.com/cloudflare/cloudflared">cloudflare/cloudflared</a> Releases页下载msi安装文件</li>
    </ul>
    <p><a href="https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.msi">https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.msi</a>
 直接运行安装</p>

    <ul>
      <li>在终端（PS）用winget命理安装：<code class="language-plaintext highlighter-rouge">winget install --id Cloudflare.cloudflared</code></li>
    </ul>
  </li>
  <li>
    <p>使用管理员方法打开终端（PS或cmd）</p>
  </li>
  <li>
    <p>运行隧道连接服务，命令见配置网页（包含token，每个账户的都不一样）</p>

    <p><img src="/assets/pics/cloudflare-tunnel-configure.png" alt="Cloudflared连接服务" /></p>
  </li>
</ol>

<p>该服务随系统启动，后台自动运行。至此，远程被访问主机/服务器端配置完成。</p>

<h2 id="回到第一步最后的浏览器继续完成配置">回到第一步最后的浏览器，继续完成配置</h2>

<p>在cloudflare上配置域名过程省略。</p>

<ol>
  <li>
    <p>点击next，选择连接一个应用（connect an application）</p>
  </li>
  <li>
    <p>设置子域名（subdomain），选择域名（domain）</p>
  </li>
  <li>
    <p>选择服务类型RDP，设置URL为localhost:3389</p>
  </li>
  <li>
    <p>保存主机名后，cloudflare会自动在域名管理中创建一个cname类型的DNS记录（record）。</p>
  </li>
  <li>
    <p>查看隧道状况。</p>
  </li>
</ol>

<h2 id="配置本地电脑客户端机">配置本地电脑/客户端机</h2>

<ol>
  <li>
    <p>在客户端机下载安装Cloudflared，方法同前</p>
  </li>
  <li>
    <p>运行RDP监听，命令如下</p>

    <p><code class="language-plaintext highlighter-rouge">cloudflared access rdp --hostname rdp.example.com --url rdp://localhost:3389</code></p>

    <p>注：如果3389端口被window自带服务监听，则可以改成其他端口</p>
  </li>
  <li>
    <p>打开远程桌面连接<strong>Remote Desktop Connection</strong>应用</p>
  </li>
  <li>
    <p>计算机输入localhost:3389，开始连接</p>

    <p>用户名、密码为远程主机用户名、密码</p>
  </li>
</ol>

<h2 id="更新cloudflared被访问主机服务器端使用过程中">更新Cloudflared（被访问主机/服务器端、使用过程中）</h2>

<ol>
  <li>
    <p>与前文相同，两种方法升级Cloudflared</p>

    <ul>
      <li>在<a href="https://github.com/cloudflare/cloudflared">cloudflare/cloudflared</a> Releases页下载msi最新安装文件</li>
    </ul>
    <p><a href="https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.msi">https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.msi</a>
 直接运行安装更新</p>

    <ul>
      <li>在终端（PS）用winget命令更新：<code class="language-plaintext highlighter-rouge">winget upgrade --id Cloudflare.cloudflared</code></li>
    </ul>
  </li>
  <li>
    <p>重启服务</p>

    <ul>
      <li>Services → cloudflared → restart</li>
    </ul>

    <p>或者</p>

    <ul>
      <li>在终端（PS）用winget命令更新（管理员模式）：<code class="language-plaintext highlighter-rouge">net start cloudflared</code></li>
    </ul>

    <p>或</p>

    <ul>
      <li>重启系统，自动重启服务。</li>
    </ul>
  </li>
</ol>

<h2 id="参考">参考</h2>

<ul>
  <li><a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/get-started/create-remote-tunnel/#1-create-a-tunnel">Create a tunnel - Cloudflare Zero Trust</a></li>
  <li><a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/use-cases/rdp/#2-connect-as-a-user">Connect as a user - Cloudflare Zero Trust</a></li>
  <li><a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/downloads/update-cloudflared/">Update cloudflared</a></li>
</ul>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="Cloudflare" /><category term="Windows" /><category term="Remote Desktop" /><category term="内网穿透" /><summary type="html"><![CDATA[如题，本文主要介绍利用Cloudflare Tunnel来实现Windows远程桌面访问。]]></summary></entry><entry><title type="html">Update home assistant supervisor/core from virsh guest console</title><link href="https://longlovemyu.com/hassio-supervisor-update" rel="alternate" type="text/html" title="Update home assistant supervisor/core from virsh guest console" /><published>2025-08-05T01:30:00+00:00</published><updated>2025-08-05T01:30:00+00:00</updated><id>https://longlovemyu.com/hassio-supervisor-update</id><content type="html" xml:base="https://longlovemyu.com/hassio-supervisor-update"><![CDATA[<p><a href="https://www.home-assistant.io">homeassistant</a> migrates image registry from <a href="https://hub.docker.com">Docker Hub</a> to <a href="https://github.com">Github</a> container registry. For example, the image link of supervisor changes from <code class="language-plaintext highlighter-rouge">home-assistant/amd64-hassio-supervisor:2024.08.0</code> to <code class="language-plaintext highlighter-rouge">ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0</code>. It is very difficult to access ghcr.io directly in China. Therefore, it is impossible to directly update supervisor, etc. This post show a temporary solution. By the way, it works for <a href="https://github.com/home-assistant/core">Homeassistant core</a> as well.</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<h2 id="supervisor"><a href="https://github.com/home-assistant/supervisor">Supervisor</a></h2>

<p><a href="https://www.home-assistant.io">homeassistant</a> migrates image registry from <a href="https://hub.docker.com">Docker Hub</a> to <a href="https://github.com">Github</a> container registry. For example, the image link of supervisor changes from <code class="language-plaintext highlighter-rouge">home-assistant/amd64-hassio-supervisor:2024.08.0</code> to <code class="language-plaintext highlighter-rouge">ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0</code>. It is very difficult to access ghcr.io directly in China. Therefore, it is impossible to directly update supervisor, etc. This post show a temporary solution based on <a href="https://github.com/DaoCloud/public-image-mirror">DaoCloud/public-image-mirror</a>.</p>

<h3 id="set-up-a-ready-to-go-ghcr-image-source">Set up a ready-to-go <code class="language-plaintext highlighter-rouge">ghcr</code> image source</h3>

<p>Open a <code class="language-plaintext highlighter-rouge">sync-image</code> <a href="https://github.com/DaoCloud/public-image-mirror/issues/new?labels=sync+image&amp;template=sync-image.yml">issue</a>.</p>

<p>Place the image sorce as a title with the format of <code class="language-plaintext highlighter-rouge">&lt;domian&gt;/&lt;owner&gt;/&lt;image&gt;:&lt;tag&gt;</code>. For example, <code class="language-plaintext highlighter-rouge">ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0</code>. Mark the checkbox. And wait one or two minutes. You will received a email with the following content.</p>

<blockquote>
  <p>镜像 ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0 同步完成
请使用 m.daocloud.io/ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0 替代源镜像</p>
</blockquote>

<p>Let’s go to pull the image with the new source.</p>

<h3 id="update-supervisor-from-a-guest-console">Update supervisor from a guest console</h3>

<p>Open a guest console via <a href="https://libvirt.org/manpages/virsh.html">virsh</a>.</p>

<p><code class="language-plaintext highlighter-rouge">virsh console hass</code></p>

<p><code class="language-plaintext highlighter-rouge">root</code></p>

<p>Pull the supervisor image from the alternative source.</p>

<p><code class="language-plaintext highlighter-rouge">docker pull m.daocloud.io/ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0</code></p>

<p>Add the recognizable tags.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag "m.daocloud.io/ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0" "ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0"
docker tag "ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0" "ghcr.io/home-assistant/amd64-hassio-supervisor:latest"
</code></pre></div></div>

<p>Stop current <code class="language-plaintext highlighter-rouge">hassio_supervisor</code> container.</p>

<p><code class="language-plaintext highlighter-rouge">docker stop hassio_supervisor</code></p>

<p>And reboot homeassistant os. hassos-supervisor script will recreate the container automatically. The deprecated images will be removed automatically as well.</p>

<p>Note that, you can do this on Terminal addon from <a href="https://www.home-assistant.io">homeassistant</a> lovelace.</p>

<h3 id="useful-commands">Useful commands</h3>

<p>Normal method to update <code class="language-plaintext highlighter-rouge">hassio_supervisor</code>.</p>

<p><code class="language-plaintext highlighter-rouge">ha su update</code> or <code class="language-plaintext highlighter-rouge">ha supervisor update</code></p>

<p>Check jobs running on haos.</p>

<p><code class="language-plaintext highlighter-rouge">ha job info</code></p>

<p>List all containers:</p>

<p><code class="language-plaintext highlighter-rouge">docker ps -a</code></p>

<p>List images:</p>

<p><code class="language-plaintext highlighter-rouge">docker images</code></p>

<h2 id="core-commands"><a href="https://github.com/home-assistant/core">Core</a> commands</h2>

<p><code class="language-plaintext highlighter-rouge">docker pull m.daocloud.io/ghcr.io/home-assistant/qemux86-64-homeassistant:2024.12.4</code></p>

<p><code class="language-plaintext highlighter-rouge">docker tag m.daocloud.io/ghcr.io/home-assistant/qemux86-64-homeassistant:2024.12.4 ghcr.io/home-assistant/qemux86-64-homeassistant:2024.12.4</code></p>

<p><code class="language-plaintext highlighter-rouge">ha core update</code></p>

<h2 id="derect-scripts">Derect scripts</h2>

<p>I place two ready-to-go scripts to make them on <a href="https://gist.github.com/longavailable/44af7d42ac76ac501fe7d7e832519084">Github Gist</a>. And you can run it directly from terminal.</p>

<p><a href="https://github.com/home-assistant/supervisor">Supervisor</a>:</p>

<p><code class="language-plaintext highlighter-rouge">curl -l https://gh.api.99988866.xyz/https://gist.githubusercontent.com/longavailable/40df661bb53da392e5bd136fdc0481f9/raw/77bd64b4efc55029d4ee670f24aca748acf5781f/update-ha-supervisor-amd64-hassio-supervisor.sh | bash</code></p>

<p><a href="https://github.com/home-assistant/core">Core</a>:</p>

<p><code class="language-plaintext highlighter-rouge">curl -l https://gh.api.99988866.xyz/https://gist.githubusercontent.com/longavailable/44af7d42ac76ac501fe7d7e832519084/raw/9adda982dc74d95ce5dfe2c1faa36829411f72c8/update-ha-core-qemux86-64-homeassistant.sh | bash</code></p>

<p>Both <a href="https://libvirt.org/manpages/virsh.html">virsh</a> and Terminal addon work.</p>

<h2 id="references">References</h2>

<ul>
  <li>
    <p><a href="https://github.com/home-assistant/version/blob/83f290b0a3d39a58efc26b1a452d31cc538abfba/update-supervisor.txt">home-assistant/version/update-supervisor.txt</a></p>
  </li>
  <li>
    <p><a href="https://github.com/DaoCloud/public-image-mirror">DaoCloud/public-image-mirror</a></p>
  </li>
</ul>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="home assistant" /><category term="virsh" /><category term="Ubuntu" /><category term="Docker" /><category term="ghcr" /><category term="DaoCloud" /><summary type="html"><![CDATA[homeassistant migrates image registry from Docker Hub to Github container registry. For example, the image link of supervisor changes from home-assistant/amd64-hassio-supervisor:2024.08.0 to ghcr.io/home-assistant/amd64-hassio-supervisor:2024.08.0. It is very difficult to access ghcr.io directly in China. Therefore, it is impossible to directly update supervisor, etc. This post show a temporary solution. By the way, it works for Homeassistant core as well.]]></summary></entry><entry><title type="html">Useful tools</title><link href="https://longlovemyu.com/useful-tools/" rel="alternate" type="text/html" title="Useful tools" /><published>2025-06-20T06:40:00+00:00</published><updated>2025-06-20T06:40:00+00:00</updated><id>https://longlovemyu.com/useful-tools</id><content type="html" xml:base="https://longlovemyu.com/useful-tools/"><![CDATA[<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<table>
  <thead>
    <tr>
      <th>**Windows Application** |</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Application / Softs</td>
      <td>Download links / Webpages</td>
    </tr>
    <tr>
      <td>[Mermaid Live Editor](https://mermaid.live/)</td>
      <td><a href="https://mermaid.live/">https://mermaid.live/</a></td>
    </tr>
    <tr>
      <td>[Xmind Online](https://xmind.ai/)</td>
      <td><a href="https://xmind.ai/">https://xmind.ai/</a></td>
    </tr>
    <tr>
      <td>DWG FastView for Windows</td>
      <td>[官网](https://en.dwgfastview.com/cloud/download/)</td>
    </tr>
    <tr>
      <td>CiteHist/CiteHist pro</td>
      <td>[CiteHist官网](https://support.clarivate.com/ScientificandAcademicResearch/s/article/HistCite-No-longer-in-active-development-or-officially-supported?language=en_US), [CiteHist Pro官网](https://zhuanlan.zhihu.com/p/20902898), [蓝奏云密码666](https://wwe.lanzous.com/b010bc9dc)</td>
    </tr>
    <tr>
      <td>视频录制、屏幕录制、直播录制[OBS Studio](https://obsproject.com/)</td>
      <td><a href="https://obsproject.com/">https://obsproject.com/</a></td>
    </tr>
    <tr>
      <td>虚拟形象、面部捕捉、动作捕捉[小K直播姬](https://www.yunboai.com/)</td>
      <td><a href="https://www.yunboai.com/">https://www.yunboai.com/</a></td>
    </tr>
    <tr>
      <td>**Web-based Application** |</td>
      <td> </td>
    </tr>
    <tr>
      <td>[KinhDown](http://kinhdown.kinh.cc/)</td>
      <td>[在线解析](https://pan.kdbaidu.com/), [在线解析](https://yun.kdbaidu.com/), [在线解析](https://www.kdbaidu.com/)</td>
    </tr>
    <tr>
      <td>[56网盘搜索](https://www.56wangpan.com/)</td>
      <td>[官网](https://www.56wangpan.com/)</td>
    </tr>
    <tr>
      <td>Official Windows OS, Office, and language packs</td>
      <td>[官网](https://tb.rg-adguard.net/public.php)</td>
    </tr>
    <tr>
      <td>MalvaStyle USB Repair</td>
      <td>[官网](https://malvastyle.com/disk-repair-application-by-malvastyle/), [蓝奏云密码666](https://www.lanzouq.com/b01139k8d)</td>
    </tr>
    <tr>
      <td>[Prettier](https://github.com/prettier/prettier): An online code formatter</td>
      <td>[官网](https://prettier.io/), [GitHub](https://github.com/prettier/prettier)</td>
    </tr>
    <tr>
      <td>[在线图片拼接](https://www.qtool.net/picstitching)、[九宫格图片在线制作](https://www.tutieshi.com/tools/gongge2)</td>
      <td><a href="https://www.qtool.net/picstitching">https://www.qtool.net/picstitching</a>、<a href="https://www.tutieshi.com/tools/gongge2">https://www.tutieshi.com/tools/gongge2</a></td>
    </tr>
    <tr>
      <td>[图像中裁剪圆圈](https://crop-circle.imageonline.co/cn/)</td>
      <td><a href="https://crop-circle.imageonline.co/cn/">https://crop-circle.imageonline.co/cn/</a></td>
    </tr>
    <tr>
      <td>视频字幕、语音转文字、文档翻译、图片翻译[网易见外工作台](https://jianwai.youdao.com)</td>
      <td><a href="https://jianwai.youdao.com">https://jianwai.youdao.com</a></td>
    </tr>
    <tr>
      <td>视频、语音、图片转文字[悦录-同花顺出品](http://www.voiceclub.cn)</td>
      <td><a href="http://www.voiceclub.cn">http://www.voiceclub.cn</a></td>
    </tr>
    <tr>
      <td>文件收集[收件夹](http://xzc.cn/)(失效)</td>
      <td><a href="http://xzc.cn/">http://xzc.cn/</a></td>
    </tr>
    <tr>
      <td>[坚果云](https://www.jianguoyun.com/)[收件箱](https://workspace.jianguoyun.com/)</td>
      <td><a href="https://workspace.jianguoyun.com/">https://workspace.jianguoyun.com/</a>, 查看收集结果<a href="https://www.jianguoyun.com/">https://www.jianguoyun.com/</a></td>
    </tr>
    <tr>
      <td>MD to DOCX Converter</td>
      <td>[CloudConvert ](https://cloudconvert.com/md-to-docx), [ZAMZAR](https://www.zamzar.com/)</td>
    </tr>
    <tr>
      <td>PDF对比[ParePdf](https://www.parepdf.com/zh-CN/)</td>
      <td><a href="https://www.parepdf.com/zh-CN/">https://www.parepdf.com/zh-CN/</a></td>
    </tr>
    <tr>
      <td>PDF转图片/长图片[依奇在线超级转换工具](https://www.wdku.net/)</td>
      <td><a href="https://pdf.wdku.net/pdftoimage">https://pdf.wdku.net/pdftoimage</a></td>
    </tr>
    <tr>
      <td>证件照剪切制作工具[证件照大师](https://id-photo.cn/maker/)</td>
      <td><a href="https://id-photo.cn/maker/">https://id-photo.cn/maker/</a></td>
    </tr>
    <tr>
      <td>手写体在线生成[第一字体转换器](http://m.diyiziti.com/shouxie)</td>
      <td><a href="http://m.diyiziti.com/shouxie">http://m.diyiziti.com/shouxie</a></td>
    </tr>
  </tbody>
</table>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://github.com/jeffreytse/jekyll-spaceship">jekyll-spaceship</a></li>
</ul>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="百度网盘" /><category term="网盘搜索" /><category term="网盘加速下载" /><category term="科学上网" /><category term="Windows" /><category term="Office" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Free ways to access home assistant remotely</title><link href="https://longlovemyu.com/remote-ha-access/" rel="alternate" type="text/html" title="Free ways to access home assistant remotely" /><published>2025-03-27T07:50:00+00:00</published><updated>2025-03-27T07:50:00+00:00</updated><id>https://longlovemyu.com/remote-access-home-assistant</id><content type="html" xml:base="https://longlovemyu.com/remote-ha-access/"><![CDATA[<p><a href="https://www.home-assistant.io/">Home Assistant</a> alives the devices at our home. That’s really cool! Here are a few free ways to access <a href="https://www.home-assistant.io/">Home Assistant</a> remotely.</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<h1 id="cpolar"><a href="https://i.cpolar.com/m/4OZZ">cpolar</a></h1>

<h2 id="installation">Installation</h2>

<p>China source:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-L</span> https://www.cpolar.com/static/downloads/install-release-cpolar.sh | <span class="nb">sudo </span>bash
</code></pre></div></div>

<p>Other:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-sL</span> https://git.io/cpolar | <span class="nb">sudo </span>bash
</code></pre></div></div>

<h2 id="registration-and-configuration">Registration and configuration</h2>

<ul>
  <li>
    <p>Register from my referral link <a href="https://i.cpolar.com/m/4OZZ">https://i.cpolar.com/m/4OZZ</a>,</p>
  </li>
  <li>
    <p>Copy your authtoken <a href="https://dashboard.cpolar.com/auth">https://dashboard.cpolar.com/auth</a>,</p>
  </li>
  <li>
    <p>Config your local cpolar by</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cpolar authtoken &lt;place your token here&gt;
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="intranet-penetration">Intranet penetration</h2>

<ul>
  <li>
    <p>Start a session with <a href="https://www.gnu.org/software/screen">screen</a></p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen <span class="nt">-R</span> ha
</code></pre></div>    </div>
  </li>
  <li>
    <p>Build a cpolar channel with the local port (defaut 8123) for <a href="https://www.home-assistant.io/">home assistant</a></p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cpolar tcp 8123
</code></pre></div>    </div>
  </li>
  <li>
    <p>That’s enough!</p>
  </li>
</ul>

<h2 id="remote-access">Remote access</h2>

<ul>
  <li>
    <p>Get your public link (refered as <code class="language-plaintext highlighter-rouge">cpolar link</code> below) from:</p>

    <ul>
      <li>
        <p>Live screen/terminal for cpolar channel</p>

        <p><img src="/assets/pics/ha-build-cpolar-channel-linux.png" alt="cpolar channel" /></p>
      </li>
      <li>
        <p>cpolar online channel status <a href="https://dashboard.cpolar.com/status">https://dashboard.cpolar.com/status</a></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Visit it starting with a <code class="language-plaintext highlighter-rouge">http://</code> anywhere.</p>
  </li>
</ul>

<h2 id="advance-your-domain">Advance! Your domain!</h2>

<p>If you have a domain, such <longlovemyu.com>, you can forward a custom link to the cpolar link.</longlovemyu.com></p>

<p>I cloudflared <longlovemyu.com>. So I did a forwarding test by using [cloudflare] rules.</longlovemyu.com></p>

<p><img src="/assets/pics/ha-forward-cpolar-link.png" alt="cpolar channel" /></p>

<p>Enjoy it!</p>

<h2 id="commands-for-screen">Commands for <a href="https://www.gnu.org/software/screen">screen</a></h2>

<p><code class="language-plaintext highlighter-rouge">screen -ls</code></p>

<p><code class="language-plaintext highlighter-rouge">killall screen</code></p>

<p><code class="language-plaintext highlighter-rouge">screen -x &lt;screen id&gt;</code></p>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="home assistant" /><category term="cpolar" /><category term="cloudflare" /><category term="intranet penetration" /><summary type="html"><![CDATA[Home Assistant alives the devices at our home. That’s really cool! Here are a few free ways to access Home Assistant remotely.]]></summary></entry><entry><title type="html">How to write a Jekyll blog</title><link href="https://longlovemyu.com/jekyll_blog/" rel="alternate" type="text/html" title="How to write a Jekyll blog" /><published>2024-12-24T06:20:00+00:00</published><updated>2024-12-24T06:20:00+00:00</updated><id>https://longlovemyu.com/how-to-write-a-jekyll-blog</id><content type="html" xml:base="https://longlovemyu.com/jekyll_blog/"><![CDATA[<p>This is a templete to show how to write a post.
<!--the above is the excerpt-->
<!--more-->
<!--the following is the text--></p>

<h1 id="how-to-test-a-blog-using-bundle">How to test a blog using bundle:</h1>

<ul>
  <li>
    <p>Navigate to path of the githubpages repository.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>D:<span class="se">\g</span>it<span class="se">\g</span>ithubPages<span class="se">\l</span>ongavailable.github.io
</code></pre></div>    </div>
  </li>
  <li>
    <p>Execute the following command:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve
</code></pre></div>    </div>

    <p>or with <code class="language-plaintext highlighter-rouge">--drafts</code> tag.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve <span class="nt">--drafts</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Check the githubpages website from <a href="http://127.0.0.1:4000">http://127.0.0.1:4000</a>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Ctrl + C </code> quit the bundle serve.</p>
  </li>
</ul>

<h1 id="markdown-skills">Markdown skills</h1>

<h2 id="space-tab-and-blank-line">Space, tab, and blank line</h2>

<ul>
  <li>
    <p><a href="https://markdown-guide.readthedocs.io/en/latest/basics.html#paragraphs">Paragraph: text line + blank line + text line</a></p>
  </li>
  <li>
    <p><a href="https://markdown-guide.readthedocs.io/en/latest/basics.html?highlight=space#code-block">Plain code block: paragraph text line (+ blank line) + 1 Tab or 4 spaces + code + blank line</a></p>
  </li>
  <li>
    <p><a href="https://markdown-guide.readthedocs.io/en/latest/basics.html?highlight=space#code-block">Plain code block in list (indented): (blank line) + ‘1 Tab + 2 spaces’ or 6 spaces  + code (+ blank line)</a></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hello, world in list
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="https://guides.github.com/pdfs/markdown-cheatsheet-online.pdf">Fenced code block: (blank line) +  ` ` `  + language identifier + enter + code + enter + ` ` ` (+ blank line)</a></p>
  </li>
</ul>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gu">## Header line h2.</span>
</code></pre></div></div>

<ul>
  <li>
    <p><a href="https://guides.github.com/pdfs/markdown-cheatsheet-online.pdf">Fenced code block in list (indented): (blank line) + 1 Tab or 4 spaces +  ` ` `  + language identifier + enter + code + enter + 1 Tab or 4 spaces + ` ` ` (+ blank line)</a>. It didnot work for <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code>, see <a href="#NOTWORKING">here</a> 2nd item. Why?</p>

    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gu">### Header line h3.</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="https://stackoverflow.com/a/15721400/12371819">More than 1 space in a text snippet (non-breaking space): <code class="language-plaintext highlighter-rouge">&amp;nbsp;</code> is 2 spaces, <code class="language-plaintext highlighter-rouge">&amp;nbsp;&amp;nbsp;</code> 4 spaces</a></p>
  </li>
  <li>
    <p><a href="https://en.wikipedia.org/wiki/Zero-width_space">Zero-width space: <code class="language-plaintext highlighter-rouge">&amp;#8203;</code></a></p>
  </li>
</ul>

<!--<a class="headerlink" href="#code-inline" title="Permalink to this headline">¶</a>-->

<h2 id="how-to-add-a-picture">How to add a picture</h2>

<h3 id="NOTWORKING">The picture from the repository which the site belongs to</h3>

<ul>
  <li>
    <p>Just the picture</p>

    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">![</span><span class="nv">Pic01</span><span class="p">](</span><span class="sx">/assets/pics/pic01_green_test.png</span><span class="p">)</span>
</code></pre></div>    </div>
    <p><img src="/assets/pics/pic01_green_test.png" alt="Pic01" /></p>
  </li>
  <li>
    <p>A picture with defined position and size</p>
  </li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">align=</span><span class="s">"center"</span><span class="nt">&gt;&lt;img</span> <span class="na">width=</span><span class="s">"165"</span> <span class="na">height=</span><span class="s">"75"</span> <span class="na">src=</span><span class="s">"/assets/pics/pic01_green_test.png"</span><span class="nt">/&gt;&lt;/div&gt;</span>
</code></pre></div></div>

<div align="center"><img width="165" height="75" src="/assets/pics/pic01_green_test.png" /></div>

<h3 id="the-picture-from-internet">The picture from internet</h3>
<ul>
  <li>
    <p>Just the picture</p>

    <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">![</span><span class="nv">Pic01</span><span class="p">](</span><span class="sx">https://raw.githubusercontent.com/mzlogin/mzlogin.github.io/master/images/posts/markdown/demo.png</span><span class="p">)</span>
</code></pre></div>    </div>
    <p><img src="https://raw.githubusercontent.com/mzlogin/mzlogin.github.io/master/images/posts/markdown/demo.png" alt="Pic01" /></p>
  </li>
  <li>
    <p>A picture with defined position and size</p>
  </li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">align=</span><span class="s">"center"</span><span class="nt">&gt;&lt;img</span> <span class="na">width=</span><span class="s">"65"</span> <span class="na">height=</span><span class="s">"75"</span> <span class="na">alt=</span><span class="s">"Demo pic for test"</span> <span class="na">src=</span><span class="s">"https://raw.githubusercontent.com/mzlogin/mzlogin.github.io/master/images/posts/markdown/demo.png"</span><span class="nt">/&gt;&lt;/div&gt;</span>
</code></pre></div></div>

<div align="center"><img width="65" height="75" alt="Demo pic for test" src="https://raw.githubusercontent.com/mzlogin/mzlogin.github.io/master/images/posts/markdown/demo.png" /></div>

<h3 id="360-image">360° image</h3>

<p>Place a <code class="language-plaintext highlighter-rouge">&lt;a-scene&gt;</code> tag and its scripts supported by <a href="https://aframe.io/">A-Frame</a>.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://aframe.io/releases/1.3.0/aframe.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;a-scene</span> <span class="na">style=</span><span class="s">"aspect-ratio:1/1;width:100%"</span> <span class="na">embedded</span><span class="nt">&gt;</span>
  <span class="nt">&lt;a-sky</span> <span class="na">src=</span><span class="s">"/assets/pics/puydesancy.jpg"</span> <span class="na">rotation=</span><span class="s">"0 -130 0"</span><span class="nt">&gt;&lt;/a-sky&gt;</span>
  <span class="nt">&lt;a-text</span> <span class="na">font=</span><span class="s">"kelsonsans"</span> <span class="na">value=</span><span class="s">"Puy de Sancy, France"</span> <span class="na">width=</span><span class="s">"6"</span> <span class="na">position=</span><span class="s">"-2.5 0.25 -1.5"</span>
		  <span class="na">rotation=</span><span class="s">"0 15 0"</span><span class="nt">&gt;&lt;/a-text&gt;</span>
<span class="nt">&lt;/a-scene&gt;</span>
</code></pre></div></div>

<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

<a-scene style="aspect-ratio:1/1;width:100%" embedded="">
  <a-sky src="/assets/pics/puydesancy.jpg" rotation="0 -130 0"></a-sky>
  <a-text font="kelsonsans" value="Puy de Sancy, France" width="6" position="-2.5 0.25 -1.5" rotation="0 15 0"></a-text>
</a-scene>

<p>Image courtesy: <a href="https://github.com/aframevr/aframe/tree/v1.0.4/examples/boilerplate/panorama">A-Frame example</a></p>

<h2 id="how-to-compare-two-pictures">How to compare two pictures</h2>

<p>There are ways to create a comparative iframe. For example, <a href="https://www.w3schools.com/howto/howto_js_image_comparison.asp">How TO - Image Comparison Slider</a>, <a href="https://github.com/NUKnightLab/juxtapose">JuxtaposeJS</a>. Add the following to your post by using <a href="https://github.com/NUKnightLab/juxtapose">JuxtaposeJS</a>.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"juxtapose"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/assets/pics/img_forest.jpg"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/assets/pics/img_snow.jpg"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<div class="juxtapose">
    <img src="/assets/pics/img_forest.jpg" />
    <img src="/assets/pics/img_snow.jpg" />
</div>
<script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script>

<link rel="stylesheet" href="https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css" />

<h2 id="how-to-embed-a-map">How to embed a map</h2>

<h3 id="a-own-map---geojson-map">a own map - geoJSON map</h3>
<ul>
  <li>
    <p>Place the following in any HTML page that supports javascript:</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://embed.github.com/view/geojson/&lt;username&gt;/&lt;repo&gt;/&lt;ref&gt;/&lt;path_to_file&gt;"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Set height and weight, default 420px (h) x 620px (w)</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://embed.github.com/view/geojson/&lt;username&gt;/&lt;repo&gt;/&lt;ref&gt;/&lt;path_to_file&gt;?width=&lt;width&gt;&amp;height=&lt;height&gt;"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Example</p>
    <div align="center">
      <script src="https://embed.github.com/view/geojson/longavailable/georepo/main/geojson/afg.json?width=600&amp;height=600"></script>
  </div>
  </li>
</ul>

<h3 id="a-3rd-party-map---google-map">a 3rd party map - google map</h3>
<ul>
  <li><a href="https://support.google.com/maps/answer/144361?co=GENIE.Platform%3DDesktop&amp;hl=en">Tutorial to get the embed link of a google map or directions</a>
    <div align="center">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5938.9807235220605!2d12.447683826439667!3d41.903816266880455!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132f60660c3e3925%3A0x498c3835506c3c!2s00120%20Vatican%20City!5e0!3m2!1sen!2snl!4v1576946140498!5m2!1sen!2snl" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
  </div>
  </li>
</ul>

<h2 id="how-to-assign-a-variable">How to assign a variable</h2>

<p>Assigning a variable in Github Markdown:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ % assign variableTest = "This is a string variable." % }
{ % capture variableTest2 % }This is a string variable for syntax 2.{ % endcapture % }
</code></pre></div></div>

<ul>
  <li>Note that, there is no space between curly bracket <code class="language-plaintext highlighter-rouge">{</code>, <code class="language-plaintext highlighter-rouge">}</code> and percent sign <code class="language-plaintext highlighter-rouge">%</code>.</li>
</ul>

<p>The content of variableTest is “ This is a string variable. “.</p>

<p>The content of variableTest2 is “ This is a string variable for syntax 2. “.</p>

<p>The​content test.</p>

<h1 id="how-to-add-a-emoji-">How to add a emoji 🙈</h1>

<ul>
  <li>
    <p>The easiest way is copy and paste</p>

    <p>Visit <a href="https://emojipedia.org/">Emojipedia</a>, search , copy, and paste.</p>
  </li>
  <li>
    <p>Use <a href="https://github.com/jekyll/jemoji">Jemoji</a></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install jemoji
</code></pre></div>    </div>

    <p>Add <code class="language-plaintext highlighter-rouge">gem 'jemoji'</code> to gemfile.</p>

    <p>Add it as a plugin in <code class="language-plaintext highlighter-rouge">_config.yml</code>.</p>

    <p>Note: It may cause other problem. For my site, it will confict with lunr.js.</p>
  </li>
</ul>

<h1 id="add-a-revealjs-presentation">Add a reveal.js presentation</h1>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;iframe</span> <span class="na">frameborder=</span><span class="s">"no"</span> <span class="na">border=</span><span class="s">"0"</span> <span class="na">marginwidth=</span><span class="s">"0"</span> <span class="na">marginheight=</span><span class="s">"0"</span> <span class="na">width=</span><span class="s">500</span> <span class="na">height=</span><span class="s">400</span> <span class="na">src=</span><span class="s">"/slides/2020-08-07-demo-from-revealjs.html#/"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre></div></div>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="500" height="400" src="/slides/2020-08-07-demo-from-revealjs.html#/"></iframe>

<p>Press <strong>F</strong> to fullscreen mode.</p>

<h1 id="reference">Reference</h1>
<ul>
  <li><a href="https://www.markdownguide.org/basic-syntax/">Basic syntax - Markdown guide</a></li>
  <li><a href="https://markdown-guide.readthedocs.io/en/latest/index.html">markdown-guide</a></li>
  <li><a href="https://hiltmon.com/blog/2017/01/28/mathjax-in-markdown/">MathJax in Markdown</a></li>
  <li><a href="https://www.codecogs.com/latex/eqneditor.php">Equation Editor</a></li>
  <li><a href="https://www.hostmath.com">Host Math</a></li>
  <li><a href="https://www.bytedude.com/jekyll-previous-and-next-posts/">Jekyll: Previous And Next Posts</a></li>
  <li><a href="https://jekyllcodex.org/without-plugins/">Jekyll without plugins</a></li>
  <li><a href="https://shopify.github.io/liquid/basics/introduction/">Basic syntax - Liquid template language</a></li>
  <li><a href="https://emojipedia.org/">Emojipedia</a></li>
  <li><a href="https://www.w3schools.com/howto/howto_js_image_comparison.asp">How TO - Image Comparison Slider</a></li>
  <li><a href="https://juxtapose.knightlab.com/">JuxtaposeJS - Easy-to-make frame comparisons</a></li>
  <li><a href="https://github.com/Naereen/badges">List of Badges, in Markdown</a></li>
  <li><a href="https://www.websiteplanet.com/blog/html-guide-beginners/">Basic HTML Codes for Beginners</a></li>
  <li><a href="https://aframe.io/examples/showcase/sky/">360° image - A-Frame</a></li>
  <li><a href="https://longqian.me/2017/07/25/vrview-with-jekyll/">Google VRView with Jekyll</a></li>
</ul>]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="first blog" /><category term="Jekyll" /><category term="markdown" /><category term="map" /><category term="picture" /><category term="emoji" /><summary type="html"><![CDATA[Hello, Jekyll!]]></summary></entry><entry><title type="html">Academic conferences on water and environment</title><link href="https://longlovemyu.com/conference-list/" rel="alternate" type="text/html" title="Academic conferences on water and environment" /><published>2024-11-29T01:50:00+00:00</published><updated>2024-11-29T01:50:00+00:00</updated><id>https://longlovemyu.com/academic-conferences-on-water-and-environment</id><content type="html" xml:base="https://longlovemyu.com/conference-list/"><![CDATA[<p>It posted a list of academic conferences on water and environment.
<!--the above is the excerpt-->
<!--more-->
<!--the following is the text--></p>

<h1 id="general">General</h1>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Conference</th>
      <th style="text-align: left">Host</th>
      <th style="text-align: left">Frequency</th>
      <th style="text-align: left">Events</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">AGU Fall Meeting</td>
      <td style="text-align: left">[AGU](https://www.agu.org)</td>
      <td style="text-align: left">Yearly</td>
      <td style="text-align: left">[2020](https://www.agu.org/fall-meeting)</td>
    </tr>
    <tr>
      <td style="text-align: left">EGU General Assembly</td>
      <td style="text-align: left">[EGU](https://www.egu.eu)</td>
      <td style="text-align: left">Yearly</td>
      <td style="text-align: left">[2025](https://www.egu25.eu/), [2021](https://www.egu21.eu/), [2020](https://egu2020.eu/)</td>
    </tr>
    <tr>
      <td style="text-align: left">IAHS Scientific Assembly</td>
      <td style="text-align: left">[IAHS](https://iahs.info)</td>
      <td style="text-align: left">Biennially</td>
      <td style="text-align: left">[2022](http://www.iahs2022.org/index.asp)</td>
    </tr>
    <tr>
      <td style="text-align: left">IUGG General Assembly</td>
      <td style="text-align: left">[IUGG](http://www.iugg.org)</td>
      <td style="text-align: left">Quadrennially</td>
      <td style="text-align: left">[2019](http://iugg2019montreal.com/)</td>
    </tr>
    <tr>
      <td style="text-align: left">AOGS Annual Meeting</td>
      <td style="text-align: left">[AOGS](https://www.asiaoceania.org)</td>
      <td style="text-align: left">Yearly</td>
      <td style="text-align: left">[2025](https://www.asiaoceania.org/aogs2025/), [2021](https://www.asiaoceania.org/aogs2021/)</td>
    </tr>
    <tr>
      <td style="text-align: left">Conference on hydroinformatics (HIC)</td>
      <td style="text-align: left">[IAHR](https://www.iahr.org), [IWA](https://iwa-network.org)</td>
      <td style="text-align: left">Biennially</td>
      <td style="text-align: left">[2021](https://hic2020.org/)</td>
    </tr>
    <tr>
      <td style="text-align: left">World Environmental &amp; Water Resources Congress</td>
      <td style="text-align: left">[EWRI](https://www.asce.org/environmental-and-water-resources-engineering/environmental-and-water-resources-institute/), ASCE</td>
      <td style="text-align: left">Yearly</td>
      <td style="text-align: left">[2021](https://www.ewricongress.org/)</td>
    </tr>
    <tr>
      <td style="text-align: left">International Conference on Flood Management (ICFM)</td>
      <td style="text-align: left">[ICFM](https://www.icfm.world)</td>
      <td style="text-align: left">Triennially</td>
      <td style="text-align: left">[2026](https://icfm10.com/), [2021](https://icfm2020.org/)</td>
    </tr>
    <tr>
      <td style="text-align: left">IWA World Water Congress &amp; Exhibition (WWCE)</td>
      <td style="text-align: left">[IWA](https://iwa-network.org)</td>
      <td style="text-align: left">Biennially</td>
      <td style="text-align: left">[2022](https://worldwatercongress.org/)</td>
    </tr>
    <tr>
      <td style="text-align: left">中非水论坛/China-Africa Water Forum</td>
      <td style="text-align: left">[中非水协](http://www.cawater.com.cn)</td>
      <td style="text-align: left">Yearly</td>
      <td style="text-align: left">[2025](http://www.cawater.com.cn)</td>
    </tr>
  </tbody>
</table>

<!--institute links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="conferences" /><category term="water" /><category term="water resources" /><category term="environment" /><summary type="html"><![CDATA[It posted a list of academic conferences on water and environment.]]></summary></entry><entry><title type="html">Update home assistant operating system from virsh guest console</title><link href="https://longlovemyu.com/hassio-operating-system-update" rel="alternate" type="text/html" title="Update home assistant operating system from virsh guest console" /><published>2024-08-25T06:00:00+00:00</published><updated>2024-08-25T06:00:00+00:00</updated><id>https://longlovemyu.com/hassio-operating-system-update</id><content type="html" xml:base="https://longlovemyu.com/hassio-operating-system-update"><![CDATA[<p>Update to <a href="https://github.com/home-assistant/operating-system">Home Assistant Operating System</a> is based on the release in <a href="https://github.com">Github</a>. It means we may fall in the <code class="language-plaintext highlighter-rouge">Error updating Home Assistant Operating System: Can't fetch OTA update from https://github.com/home-assistant/operating-system/releases/download/13.1/haos_ova-13.1.raucb</code> in the place where <a href="https://github.com">GitHub</a> is not accessible.
This post show a temporary solution.</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<p>Update to <a href="https://github.com/home-assistant/operating-system">Home Assistant Operating System</a> is based on its <a href="https://github.com/home-assistant/operating-system/releases">release</a> in <a href="https://github.com">Github</a>. It means we may fall in the <code class="language-plaintext highlighter-rouge">Error updating Home Assistant Operating System: Can't fetch OTA update from https://github.com/home-assistant/operating-system/releases/download/13.1/haos_ova-13.1.raucb</code> in the place where <a href="https://github.com">GitHub</a> is not accessible.</p>

<p>So we can make it by modifying the <code class="language-plaintext highlighter-rouge">release_url</code>.</p>

<h2 id="proxying-github">Proxying <a href="https://github.com">Github</a></h2>

<p>Check my another post <a href="https://longlovemyu.com/fasten-github/" target="_blank">如何解决github访问慢的问题（中文）</a>.</p>

<p>For example, add proxy link <code class="language-plaintext highlighter-rouge">https://gh.api.99988866.xyz/</code> ahead of the original release link.</p>

<h2 id="deep-track-it">Deep track it</h2>

<p>Check the error log again.</p>

<blockquote>
  <p>2024-08-24 21:33:44.051 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection] [139950367721920] Error updating Home Assistant Operating System: Can’t fetch OTA update from https://github.com/home-assistant/operating-system/releases/download/13.1/haos_ova-13.1.raucb:
Traceback (most recent call last):
File “/usr/src/homeassistant/homeassistant/components/hassio/update.py”, line 213, in async_install
await async_update_os(self.hass, version)
…</p>
</blockquote>

<p>This script file <code class="language-plaintext highlighter-rouge">/usr/src/homeassistant/homeassistant/components/hassio/update.py</code> will be the key.</p>

<p>Let’s have a look in its <a href="https://github.com/home-assistant/core/blob/b63fb9f17f963221cb979316c40b46e896eabb0c/homeassistant/components/hassio/update.py">source</a>.
It’s easy to find out the following code snippet.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SupervisorOSUpdateEntity</span><span class="p">(</span><span class="n">HassioOSEntity</span><span class="p">,</span> <span class="n">UpdateEntity</span><span class="p">):</span>
    <span class="s">"""Update entity to handle updates for the Home Assistant Operating System."""</span>

    <span class="p">...</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">release_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""URL to the full release notes of the latest version available."""</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">AwesomeVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">latest_version</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">.</span><span class="n">dev</span> <span class="ow">or</span> <span class="n">version</span><span class="p">.</span><span class="n">strategy</span> <span class="o">==</span> <span class="n">AwesomeVersionStrategy</span><span class="p">.</span><span class="n">UNKNOWN</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">"https://github.com/home-assistant/operating-system/commits/dev"</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s">"https://github.com/home-assistant/operating-system/releases/tag/</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s">"</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">async_install</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="bp">None</span><span class="p">,</span> <span class="n">backup</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Install an update."""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">async_update_os</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">hass</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HassioAPIError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HomeAssistantError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s">"Error updating Home Assistant Operating System: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s">"</span>
            <span class="p">)</span> <span class="k">from</span> <span class="n">err</span>
</code></pre></div></div>

<p>There is a <code class="language-plaintext highlighter-rouge">release_url</code> function to generate the part of the link for the release. Then we have to modifying it to</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">release_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""URL to the full release notes of the latest version available."""</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">AwesomeVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">latest_version</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">.</span><span class="n">dev</span> <span class="ow">or</span> <span class="n">version</span><span class="p">.</span><span class="n">strategy</span> <span class="o">==</span> <span class="n">AwesomeVersionStrategy</span><span class="p">.</span><span class="n">UNKNOWN</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">"https://gh.api.99988866.xyz/https://github.com/home-assistant/operating-system/commits/dev"</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s">"https://gh.api.99988866.xyz/https://github.com/home-assistant/operating-system/releases/tag/</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s">"</span>
        <span class="p">)</span>
</code></pre></div></div>

<h2 id="config-it-from-virsh-guest-console">Config it from <a href="https://libvirt.org/manpages/virsh.html">virsh</a> guest console</h2>

<p>Open a guest console via <a href="https://libvirt.org/manpages/virsh.html">virsh</a>.</p>

<p><code class="language-plaintext highlighter-rouge">virsh console hass</code></p>

<p><code class="language-plaintext highlighter-rouge">root</code></p>

<p>Check docker root directory.</p>

<p><code class="language-plaintext highlighter-rouge">docker info</code></p>

<p>We can see the <code class="language-plaintext highlighter-rouge">Docker Root Dir</code> item. Mostly, it should be <code class="language-plaintext highlighter-rouge">/mnt/data/docker</code>.</p>

<p>Find the script file <code class="language-plaintext highlighter-rouge">/usr/src/homeassistant/homeassistant/components/hassio/update.py</code> with:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /
find <span class="nb">.</span> <span class="nt">-path</span> <span class="se">\*</span>/usr/src/homeassistant/homeassistant/components/hassio/update.py
</code></pre></div></div>

<p>It will list all full path for this file. For example,</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./mnt/data/docker/overlay2/356af2cef9b08a2162030badae8304fa4f2ae7f6544efb1a78b88e45472f7c90/diff/usr/src/homeassistant/homeassistant/components/hassio/update.py
./mnt/data/docker/overlay2/cc97cec3597fd6ed024f0f1af2a7e06e60df7a27ec03304342198257c7bb688d/diff/usr/src/homeassistant/homeassistant/components/hassio/update.py
./mnt/data/docker/overlay2/f8c72160e7488a7c152815e67a7f220f052e7b50d7fc606ee778099c2256237a/merged/usr/src/homeassistant/homeassistant/components/hassio/update.py
./var/lib/docker/overlay2/356af2cef9b08a2162030badae8304fa4f2ae7f6544efb1a78b88e45472f7c90/diff/usr/src/homeassistant/homeassistant/components/hassio/update.py
./var/lib/docker/overlay2/cc97cec3597fd6ed024f0f1af2a7e06e60df7a27ec03304342198257c7bb688d/diff/usr/src/homeassistant/homeassistant/components/hassio/update.py
./var/lib/docker/overlay2/f8c72160e7488a7c152815e67a7f220f052e7b50d7fc606ee778099c2256237a/merged/usr/src/homeassistant/homeassistant/components/hassio/update.py
</code></pre></div></div>

<p>I cannot recognize which is the right one. Then I modified the first three files (they are all under the Docker root directory).</p>

<p><code class="language-plaintext highlighter-rouge">vi /mnt/data/docker/overlay2/356af2cef9b08a2162030badae8304fa4f2ae7f6544efb1a78b88e45472f7c90/diff/usr/src/homeassistant/homeassistant/components/hassio/update.py</code></p>

<h2 id="retry-to-update">Retry to update</h2>

<p>Go back to <a href="https://www.home-assistant.io">homeassistant</a> lovelace and you can see the update task under the <code class="language-plaintext highlighter-rouge">Settings</code>.</p>

<p>It works this time for me. And best wishes to you.</p>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="home assistant" /><category term="virsh" /><category term="Ubuntu" /><category term="Docker" /><category term="Github" /><summary type="html"><![CDATA[Update to Home Assistant Operating System is based on the release in Github. It means we may fall in the Error updating Home Assistant Operating System: Can't fetch OTA update from https://github.com/home-assistant/operating-system/releases/download/13.1/haos_ova-13.1.raucb in the place where GitHub is not accessible. This post show a temporary solution.]]></summary></entry><entry><title type="html">Set up an application-level proxy via proxychains</title><link href="https://longlovemyu.com/proxy-via-proxychains" rel="alternate" type="text/html" title="Set up an application-level proxy via proxychains" /><published>2024-08-23T08:00:00+00:00</published><updated>2024-08-23T08:00:00+00:00</updated><id>https://longlovemyu.com/set-a-proxy-via-proxychains</id><content type="html" xml:base="https://longlovemyu.com/proxy-via-proxychains"><![CDATA[<p>This is a short guide to set up a proxy on a Linux system.</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<h2 id="install-proxychains">Install <a href="https://proxychains.sourceforge.net">ProxyChains</a></h2>

<p><code class="language-plaintext highlighter-rouge">sudo apt install proxychains</code></p>

<p><code class="language-plaintext highlighter-rouge">apk add proxychains-ng</code>	<a href="https://pkgs.alpinelinux.org/package">alpine linux</a></p>

<h2 id="configure-proxychains">Configure <a href="https://proxychains.sourceforge.net">ProxyChains</a></h2>

<p>Add the following content in the configuration file <code class="language-plaintext highlighter-rouge">/etc/proxychains.conf</code> or <code class="language-plaintext highlighter-rouge">/etc/proxychains/proxychains.conf</code>.</p>

<p><code class="language-plaintext highlighter-rouge">http	&lt;your server ip&gt;	&lt;port&gt;</code> For example, <code class="language-plaintext highlighter-rouge">http	192.168.31.138	10811</code></p>

<h2 id="use--test-proxychains">Use / test <a href="https://proxychains.sourceforge.net">ProxyChains</a></h2>

<p><code class="language-plaintext highlighter-rouge">proxychains curl ifconfig.me/ip</code></p>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="proxychains" /><category term="proxy" /><category term="linux" /><summary type="html"><![CDATA[This is a short guide to set up a proxy on a Linux system.]]></summary></entry><entry><title type="html">The detailed steps of installing Home Assistant Operating System on Ubuntu</title><link href="https://longlovemyu.com/install-haos-on-ubuntu" rel="alternate" type="text/html" title="The detailed steps of installing Home Assistant Operating System on Ubuntu" /><published>2024-08-22T06:10:00+00:00</published><updated>2024-08-22T06:10:00+00:00</updated><id>https://longlovemyu.com/ha-os-installation</id><content type="html" xml:base="https://longlovemyu.com/install-haos-on-ubuntu"><![CDATA[<p>As the title, this is the detailed steps.</p>

<!--the above is the excerpt-->
<!--more-->
<!--the following is the text-->

<h2 id="install-virt-manager">Install <a href="https://help.ubuntu.com/community/KVM/VirtManager">virt-manager</a></h2>

<p><code class="language-plaintext highlighter-rouge">apt install virt-manager</code> or <code class="language-plaintext highlighter-rouge">sudo apt install virt-manager</code></p>

<h2 id="config-internet">Config internet</h2>

<p>Check <a href="https://community.home-assistant.io/t/install-home-assistant-os-with-kvm-on-ubuntu-headless-cli-only/254941#2-set-up-network-8">Aephir’s post</a>.</p>

<p><code class="language-plaintext highlighter-rouge">apt install net-tools</code> or <code class="language-plaintext highlighter-rouge">sudo apt install net-tools</code></p>

<p><code class="language-plaintext highlighter-rouge">ifconfig</code></p>

<p>Mark the network interface, <code class="language-plaintext highlighter-rouge">eno1</code>, <code class="language-plaintext highlighter-rouge">enp1s0</code>..</p>

<p>Create a netplan <code class="language-plaintext highlighter-rouge">yaml</code> file in the <code class="language-plaintext highlighter-rouge">/etc/netplan/</code> directory with the following content.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># This is the network config written by 'subiquity'</span>
<span class="na">network</span><span class="pi">:</span>
  <span class="na">ethernets</span><span class="pi">:</span>
    <span class="na">eno1</span><span class="pi">:</span>
      <span class="na">dhcp4</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">bridges</span><span class="pi">:</span>
    <span class="na">br0</span><span class="pi">:</span>
      <span class="na">dhcp4</span><span class="pi">:</span> <span class="s">yes</span>
      <span class="na">interfaces</span><span class="pi">:</span>
             <span class="pi">-</span> <span class="s">eno1</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="na">stp</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<p>Note replacing <code class="language-plaintext highlighter-rouge">eno1</code> with your bridge interface.</p>

<p><code class="language-plaintext highlighter-rouge">netplan generate</code> or <code class="language-plaintext highlighter-rouge">sudo netplan generate</code></p>

<p><code class="language-plaintext highlighter-rouge">netplan apply</code> or <code class="language-plaintext highlighter-rouge">sudo netplan apply</code></p>

<p><code class="language-plaintext highlighter-rouge">apt install bridge-utils</code> or <code class="language-plaintext highlighter-rouge">sudo apt install bridge-utils</code></p>

<p><code class="language-plaintext highlighter-rouge">brctl show</code></p>

<p>Mark the bridge adapter name, <code class="language-plaintext highlighter-rouge">br0</code> or something else.</p>

<h2 id="prepare-the-image">Prepare the image</h2>

<ul>
  <li>
    <p>Download the <a href="https://github.com/home-assistant/operating-system/releases">latest image</a>.</p>
  </li>
  <li>
    <p>Decompress it, if needed. Note that some <code class="language-plaintext highlighter-rouge">.xz</code> files were broken.</p>

    <p><code class="language-plaintext highlighter-rouge">xz -d -v haos_ova-10.4.qcow2.xz</code> or <code class="language-plaintext highlighter-rouge">unxz haos_ova-10.4.qcow2.xz</code></p>

    <p><a href="https://www.360totalsecurity.com/en/360zip/">360 zip</a> works perfect.</p>
  </li>
</ul>

<h2 id="install-the-haos-vm">Install the HAOS VM</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virt-install <span class="nt">--import</span> <span class="nt">--name</span> hass <span class="nt">--description</span> <span class="s2">"Home Assistant OS"</span> <span class="nt">--os-variant</span><span class="o">=</span>generic <span class="se">\</span>
<span class="nt">--memory</span> 2048 <span class="nt">--vcpus</span> 2 <span class="nt">--cpu</span> host <span class="se">\</span>
<span class="nt">--disk</span> &lt;path to qcow2 file&gt;,format<span class="o">=</span>qcow2,bus<span class="o">=</span>virtio <span class="se">\</span>
<span class="nt">--network</span> <span class="nv">bridge</span><span class="o">=</span>br0,model<span class="o">=</span>virtio <span class="se">\</span>
<span class="nt">--osinfo</span> <span class="nv">detect</span><span class="o">=</span>on,require<span class="o">=</span>off <span class="se">\</span>
<span class="nt">--graphics</span> none <span class="se">\</span>
<span class="nt">--noautoconsole</span> <span class="se">\</span>
<span class="nt">--boot</span> uefi <span class="se">\</span>
<span class="nt">--autostart</span>
</code></pre></div></div>

<p>Then wait patiently.</p>

<h2 id="virsh-commands"><code class="language-plaintext highlighter-rouge">virsh</code> commands</h2>

<p>List domains/VMs:</p>

<p><code class="language-plaintext highlighter-rouge">virsh list</code> or <code class="language-plaintext highlighter-rouge">virsh list --all</code></p>

<p>Start a domian:</p>

<p><code class="language-plaintext highlighter-rouge">virsh start &lt;domain name&gt;</code></p>

<p>Immediately shutdown a domain:</p>

<p><code class="language-plaintext highlighter-rouge">virsh destory &lt;domain name&gt;</code></p>

<p>Gracefully shutdown a domain:</p>

<p><code class="language-plaintext highlighter-rouge">virsh shutdown &lt;domain name&gt;</code> or <code class="language-plaintext highlighter-rouge">virsh destory &lt;domain name&gt; --graceful</code></p>

<p>Get domain information:</p>

<p><code class="language-plaintext highlighter-rouge">virsh dominfo &lt;domain name&gt;</code></p>

<p>Connect to the domain’s guest console:</p>

<p><code class="language-plaintext highlighter-rouge">virsh console &lt;domain name&gt;</code></p>

<p>Remove a domain:</p>

<p><code class="language-plaintext highlighter-rouge">virsh undefine &lt;domain name&gt;  --remove-all-storage</code></p>

<p><code class="language-plaintext highlighter-rouge">virsh undefine &lt;domain name&gt;  --remove-all-storage --nvram</code> (error: Requested operation is not valid: cannot undefine domain with nvram)</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://community.home-assistant.io/t/install-home-assistant-os-with-kvm-on-ubuntu-headless-cli-only/254941">Install Home Assistant OS with KVM on Ubuntu headless (CLI only)</a></li>
</ul>

<!--links-->]]></content><author><name>Bruce Liu</name></author><category term="post" /><category term="home assistant" /><category term="virsh" /><category term="Ubuntu" /><summary type="html"><![CDATA[As the title, this is the detailed steps.]]></summary></entry></feed>